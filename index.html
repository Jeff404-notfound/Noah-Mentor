<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noah AI â€“ Mental Wellness</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="bg-blob blob1"></div>
  <div class="bg-blob blob2"></div>
  <div class="bg-blob blob3"></div>

  <header>
    <nav class="navbar">
      <div class="logo">
        <div class="logo-mark">ðŸ§©</div>
        <span>Noah AI</span>
      </div>
      <ul>
        <li><a href="howitworks.html">How It Works</a></li>
        <li><a href="features.html">Features</a></li>
        <li><a href="Counselors1.html">Counselors</a></li>
      </ul>
      <button class="nav-cta" onclick="goTo('Chatbot(Main)/chatbot.html')">Talk to Noah â†’</button>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-tag">
      <span class="pulse-dot"></span> AI-Powered Wellness
    </div>
    <h1>Talk. Resolve.<br><em>Heal.</em></h1>
    <p>
      We provide youth with an AI-powered chatbot, mood tracking, and a private journal â€”
      simple tools to support your mental wellness journey.
    </p>
    <div class="hero-btns">
      <button id="get-started-btn" class="cta-btn">
        <span>Get Started</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </button>
      <button id="mind-pulse-btn" class="pulse-btn">Mind Pulse</button>
    </div>
    <div class="stats-strip">
      <div class="stat"><strong>24/7</strong><span>Available</span></div>
      <div class="stat-divider"></div>
      <div class="stat"><strong>100%</strong><span>Private</span></div>
      <div class="stat-divider"></div>
      <div class="stat"><strong>Free</strong><span>To Use</span></div>
    </div>
  </section>

  <section class="features">
    <div class="features-header">
      <h2>What We Provide</h2>
      <p>Everything you need to support your mental wellness journey</p>
    </div>
    <div class="feature-cards">

      <div class="card" onclick="goTo('Chatbot(Main)/chatbot.html')">
        <div class="card-icon-wrap">
          <img src="icons/chatbot-placeholder.jpg" alt="AI Chatbot">
        </div>
        <div class="card-body">
          <h3>AI Chatbot</h3>
          <p>Instant, empathetic conversations for support anytime, anywhere.</p>
        </div>
        <div class="card-arrow">â†’</div>
      </div>

      <div class="card card-accent" onclick="goTo('moodtracker.html')">
        <div class="card-icon-wrap">
          <img src="icons/mood-icon.png" alt="Mood Tracker">
        </div>
        <div class="card-body">
          <h3>Mood Tracker</h3>
          <p>Track and visualize your emotional patterns over time.</p>
        </div>
        <div class="card-arrow">â†’</div>
      </div>

      <div class="card" onclick="goTo('journal.html')">
        <div class="card-icon-wrap">
          <img src="icons/journal-icon.png" alt="Wellness Journal">
        </div>
        <div class="card-body">
          <h3>Wellness Journal</h3>
          <p>Write, reflect, and grow with a private, secure journal space.</p>
        </div>
        <div class="card-arrow">â†’</div>
      </div>

    </div>
  </section>

  <section class="quote-banner">
    <div class="quote-inner">
      <span class="quote-mark">"</span>
      <p id="rotating-quote">You don't have to have it all figured out to move forward.</p>
    </div>
  </section>

  <div id="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text" id="loading-fact"></div>
  </div>

  <button class="float-btn" id="float-btn" onclick="toggleMini()">
    <span id="float-icon">ðŸ’¬</span>
  </button>

  <div class="mini-chat" id="mini-chat">
    <div class="mini-header">
      <div class="mini-header-icon">ðŸŒ¿</div>
      <div class="mini-header-info">
        <h4>Noah Mentor</h4>
        <p>Wellness Companion Â· Online</p>
      </div>
      <button class="mini-open-btn" onclick="goTo('Chatbot(Main)/chatbot.html')">Open Full â†—</button>
    </div>
    <div class="mini-messages" id="mini-messages">
      <div class="mini-msg bot">Hi! ðŸ‘‹ I'm Noah. How are you feeling right now?</div>
    </div>
    <div class="mini-input-row">
      <input id="mini-input" type="text" placeholder="Type a messageâ€¦" autocomplete="off" />
      <button class="mini-send" onclick="miniSend()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/>
        </svg>
      </button>
    </div>
  </div>

  <script>
    // â”€â”€ Loading facts â”€â”€
    const facts = [
      "ðŸ’š 1 in 4 people will experience a mental health issue at some point in their life.",
      "ðŸ§  Exercise for just 30 minutes can improve mood for up to 12 hours.",
      "ðŸ˜´ Poor sleep and mental health are deeply connected â€” rest is healing.",
      "ðŸŒ¿ Talking about your feelings can reduce stress by up to 40%.",
      "ðŸ’¬ Seeking help is a sign of strength, not weakness.",
      "ðŸŒž Sunlight boosts serotonin â€” even 10 minutes outside helps.",
      "ðŸ« Deep breathing activates your body's natural calm response.",
      "ðŸ¤ Human connection is one of the strongest protectors of mental health.",
      "ðŸ““ Journaling for 15 minutes a day can reduce anxiety significantly.",
      "ðŸ’™ It's okay to not be okay â€” what matters is reaching out.",
      "ðŸŒ± Recovery is not linear. Every small step forward counts.",
      "ðŸŽµ Music can reduce anxiety by up to 65% â€” press play!",
    ];
    document.getElementById('loading-fact').textContent = facts[Math.floor(Math.random() * facts.length)];

    // â”€â”€ Navigation â”€â”€
    const overlay = document.getElementById('loading-overlay');
    function goTo(url) {
      overlay.style.display = 'flex';
      setTimeout(() => { window.location.href = url; }, 1400);
    }

    document.getElementById('get-started-btn').addEventListener('click', () => goTo('Counselors1.html'));
    document.getElementById('mind-pulse-btn').addEventListener('click', () => goTo('moodtracker.html'));

    // â”€â”€ Rotating quotes â”€â”€
    const quotes = [
      "You don't have to have it all figured out to move forward.",
      "Healing is not linear â€” and that's okay.",
      "Every small step is still a step.",
      "It's okay to rest. It doesn't mean you've given up.",
      "Your feelings are valid, always.",
      "Courage doesn't always roar. Sometimes it whispers 'try again tomorrow'."
    ];
    let qi = 0;
    const qEl = document.getElementById('rotating-quote');
    qEl.style.transition = 'opacity 0.5s ease';
    setInterval(() => {
      qEl.style.opacity = 0;
      setTimeout(() => {
        qi = (qi + 1) % quotes.length;
        qEl.textContent = quotes[qi];
        qEl.style.opacity = 1;
      }, 500);
    }, 5000);

    // â”€â”€ Mini chat toggle â”€â”€
    let miniOpen = false;
    function toggleMini() {
      miniOpen = !miniOpen;
      document.getElementById('mini-chat').classList.toggle('open', miniOpen);
      document.getElementById('float-icon').textContent = miniOpen ? 'âœ•' : 'ðŸ’¬';
      if (miniOpen) document.getElementById('mini-input').focus();
    }

    document.addEventListener('click', e => {
      const btn  = document.getElementById('float-btn');
      const chat = document.getElementById('mini-chat');
      if (miniOpen && !chat.contains(e.target) && !btn.contains(e.target)) {
        miniOpen = false;
        chat.classList.remove('open');
        document.getElementById('float-icon').textContent = 'ðŸ’¬';
      }
    });

    document.getElementById('mini-input').addEventListener('keypress', e => {
      if (e.key === 'Enter') miniSend();
    });

    async function miniSend() {
      const input = document.getElementById('mini-input');
      const box   = document.getElementById('mini-messages');
      const text  = input.value.trim();
      if (!text) return;

      const u = document.createElement('div');
      u.className = 'mini-msg user';
      u.textContent = text;
      box.appendChild(u);
      input.value = '';
      box.scrollTop = box.scrollHeight;

      const typing = document.createElement('div');
      typing.className = 'mini-typing';
      typing.innerHTML = '<span class="mini-dot"></span><span class="mini-dot"></span><span class="mini-dot"></span>';
      box.appendChild(typing);
      box.scrollTop = box.scrollHeight;

      try {
        const res  = await fetch('http://localhost:3000/chat', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: text })
        });
        const data = await res.json();
        typing.remove();
        const b = document.createElement('div');
        b.className = 'mini-msg bot';
        b.textContent = data.reply;
        box.appendChild(b);
      } catch {
        typing.remove();
        const b = document.createElement('div');
        b.className = 'mini-msg bot';
        b.textContent = "Can't connect right now. Try the full chat! ðŸ’š";
        box.appendChild(b);
      }
      box.scrollTop = box.scrollHeight;
    }
  </script>
</body>
</html>